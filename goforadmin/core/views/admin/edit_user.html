{{ template "layout" . }}
{{ define "content"}}
<content-top>
    <div class="content-top clearfix">
        <h1 class="al-title ng-binding">编辑管理员</h1>

        <ul class="breadcrumb al-breadcrumb">
            <li>
                <a href="/admin/users">管理员列表</a></li>
            <li>权限管理</li>
        </ul>
    </div>
</content-top>
<div>
    <div class="widgets">
        <div class="row">
            <div class="col-md-12">
                <div>
                    <div class="panel animated zoomIn">
                        <div class="panel-body">
                            <form class="form form-horizontal"
                                  method="POST"
                                  action="/admin/users/edit"
                                  onsubmit="return false">
                                <input type="hidden" name="id" value="{{.User.ID}}">
                                <div class="form-group">
                                    <label for="Username" class="col-sm-1 control-label">用户名</label>
                                    <div class="col-sm-6">
                                        <input name="username" type="text" class="form-control" id="Username" placeholder="Username"
                                               value="{{.User.Username}}"
                                               data-regexp="^[a-zA-Z0-9_]{5,18}$" data-msg="用户名5-18长度, 可以是字母和数字"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="Password" class="col-sm-1 control-label">密码</label>
                                    <div class="col-sm-6">
                                        <input name="password" type="password" class="form-control" id="Password" placeholder="Password"
                                               data-must="0" data-regexp="^[^ ]{6,18}$" data-msg="密码6-18长度"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="Role" class="col-sm-1 control-label">角色</label>
                                    <div class="col-sm-6">
                                        <select name="role" id="Role"
                                                class="form-control"
                                                data-live-search="true"
                                                data-regexp="^[0-9]+$" data-msg="请选择角色">
                                            {{ $save := . }}
                                            {{range .Roles}}
                                                {{if eq .ID $save.User.Role}}
                                                    <option selected="selected" value="{{.ID}}">{{.Name}}</option>
                                                {{else}}
                                                    <option value="{{.ID}}">{{.Name}}</option>
                                                {{end}}
                                            {{end}}
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <button style="width: 150px" type="button" class="btn btn-submit btn-info">提交</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{{ end }}